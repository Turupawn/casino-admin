<div class="container mx-auto px-4 py-8">
  <div class="mb-6">
    <h1 class="text-3xl font-bold text-gray-900 mb-4">Casino Admin Dashboard</h1>
    <div class="flex space-x-4">
      <a href="<%= games_path %>" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
        View All Games Database
      </a>
    </div>
  </div>

<h2>Latest 10 Games (Live from Blockchain)</h2>
<% if @latest_games && @latest_games.any? %>
  <% @latest_games.each_with_index do |game, index| %>
    <div style="border: 1px solid #ccc; margin: 10px 0; padding: 10px;">
      <h3>Game #<%= index + 1 %></h3>
      <pre>
        Game State: <%= game[0] %>
        Player Address: <%= game[1] %>
        Player Commit: <%= game[2] ? game[2].unpack1('H*').prepend('0x') : 'N/A' %>
        Commit Timestamp: <%= game[3] ? Time.at(game[3]) : 'N/A' %>
        House Hash: <%= game[4] ? game[4].unpack1('H*').prepend('0x') : 'N/A' %>
        House Hash Timestamp: <%= game[5] ? Time.at(game[5]) : 'N/A' %>
        Player Secret: <%= game[6] ? game[6].unpack1('H*').prepend('0x') : 'N/A' %>
        Player Card: <%= game[7] %>
        House Card: <%= game[8] %>
        Winner Address: <%= game[9] %>
        Reveal Timestamp: <%= game[10] ? Time.at(game[10]) : 'Not revealed yet' %>
      </pre>
    </div>
  <% end %>
<% else %>
  <p>No games found.</p>
<% end %>

<hr>

<h2>Single Game (ID: 1)</h2>
<p>Game data:</p>
<pre>
  Game State: <%= @game[0] %>
  Player Address: <%= @game[1] %>
  Player Commit: <%= @game[2].unpack1('H*').prepend('0x') %>
  Commit Timestamp: <%= Time.at(@game[3]) %>
  House Hash: <%= @game[4].unpack1('H*').prepend('0x') %>
  House Hash Timestamp: <%= Time.at(@game[5]) %>
  Player Secret: <%= @game[6].unpack1('H*').prepend('0x') %>
  Player Card: <%= @game[7] %>
  House Card: <%= @game[8] %>
  Winner Address: <%= @game[9] %>
  Reveal Timestamp: <%= Time.at(@game[10]) %>
</pre>
</div>